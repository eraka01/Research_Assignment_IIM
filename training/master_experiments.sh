#!/bin/bash

DIR_MODELS="./models/"
NUM_PERTURBATIONS=20
SD_PERTURBATION=1
LEARNING_RATE=0.01
TIME_LIMIT=60

FEATURE_SET="dynamicstatic"
PREDICTOR="NeuralNetwork"
SAMPLESIZE=50
NUMINSTANCES=15
RUNTIMESTRATEGY=3600

# BASE CASE
DIR_ORACLE="../experiments/samples-${SAMPLESIZE}_instances-${NUMINSTANCES}_runtime-${RUNTIMESTRATEGY}/"
echo basecase
sbatch --job-name="base" --export=DIR_ORACLE=$DIR_ORACLE,DIR_MODELS=$DIR_MODELS,NUM_PERTURBATIONS=$NUM_PERTURBATIONS,SD_PERTURBATION=$SD_PERTURBATION,TIME_LIMIT=$TIME_LIMIT,LEARNING_RATE=$LEARNING_RATE,PREDICTOR=$PREDICTOR,FEATURE_SET=$FEATURE_SET run_training.sh


# EXPERIMENT 1
for SAMPLESIZE in 10
do
    DIR_ORACLE="../experiments/samples-${SAMPLESIZE}_instances-${NUMINSTANCES}_runtime-${RUNTIMESTRATEGY}/"
    echo experiment1
    sbatch --job-name="exp1" --export=DIR_ORACLE=$DIR_ORACLE,DIR_MODELS=$DIR_MODELS,NUM_PERTURBATIONS=$NUM_PERTURBATIONS,SD_PERTURBATION=$SD_PERTURBATION,TIME_LIMIT=$TIME_LIMIT,LEARNING_RATE=$LEARNING_RATE,PREDICTOR=$PREDICTOR,FEATURE_SET=$FEATURE_SET run_training.sh
done
sleep 1
SAMPLESIZE=50


